<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="index_files/libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="index_files/libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.545">

  <meta name="author" content="Pascal Guillot &amp; Philippe Massicotte">
  <meta name="dcterms.date" content="2024-02-05">
  <title>Efficient data manipulation with  and </title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Efficient data manipulation with <i class="fa-brands fa-r-project" aria-label="r-project"></i> and <i class="fa-brands fa-python" aria-label="python"></i></h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Pascal Guillot &amp; Philippe Massicotte 
</div>
        <p class="quarto-title-affiliation">
            Laval University
          </p>
    </div>
</div>

  <p class="date">February 5, 2024</p>
</section>
<section id="who-am-i" class="slide level2">
<h2>Who am I</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img src="images/myname.png" width="400px"></p>
<p><br></p>
<div class="quarto-layout-panel" data-layout="[[1,1], [1]]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="images/logos/takuvik.svg"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="images/logos/sn.png"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img data-src="images/logos/ulaval.svg"></p>
</div>
</div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<p><span style="font-weight:bold;font-size:1.5em">Research assistant at Takuvik (Laval University)</span></p>
<p><small><em>Remote sensing, modelling, data science, data visualization</em></small><br> in <i class="fa-brands fa-github" aria-label="github"></i> <a href="https://github.com/PMassicotte" style="font-weight:bold;">My GitHub</a></p>
<p><i class="fa-brands fa-twitter" aria-label="twitter"></i> <a href="https://twitter.com/philmassicotte" style="font-weight:bold;">Follow me on Twitter</a></p>
<p><i class="fa-brands fa-mastodon" aria-label="mastodon"></i> <a href="https://fosstodon.org/@philmassicotte" style="font-weight:bold;">Follow me on Mastodon</a></p>
<p><i class="fa-solid fa-link" aria-label="link"></i> <a href="https://www.pmassicotte.com" style="font-weight:bold;">www.pmassicotte.com</a></p>
</div>
</div>
</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<div class="r-fit-text">
<ul>
<li class="fragment"><p><span style="font-size:1.25em"><strong>Part 1 (~ 30 minutes)</strong></span></p>
<ul>
<li class="fragment">Recap of what is tidy data and why it is important?</li>
</ul></li>
<li class="fragment"><p><span style="font-size:1.25em"><strong>Part 2 (~ 60 minutes)</strong></span></p>
<ul>
<li class="fragment"><p>Understand the basics of data manipulation techniques using R.</p></li>
<li class="fragment"><p>Learn how to manipulate and transform raw data into a format suitable for analysis using <code>dplyr</code> and <code>tidyr</code>.</p>
<ul>
<li class="fragment"><strong>filtering</strong> rows</li>
<li class="fragment"><strong>grouping</strong>, <strong>summarizing</strong> / <strong>aggregating</strong> rows</li>
<li class="fragment"><strong>joining</strong> data from multiple sources</li>
<li class="fragment"><strong>pivoting</strong> data, <strong>separating columns</strong> into multiple columns</li>
</ul></li>
</ul></li>
<li class="fragment"><p><span style="font-size:1.25em;"><strong>BREAK! (30 minutes)</strong></span> <i class="fa-solid fa-mug-hot" aria-label="mug-hot"></i> <i class="fa-solid fa-cookie-bite" aria-label="cookie-bite"></i></p></li>
<li class="fragment"><p><span style="font-size:1.25em"><strong>Part 3 (~ 90 minutes)</strong></span></p>
<ol type="1">
<li class="fragment">Working on your own data</li>
<li class="fragment">Data challenge: <em>SQL Murder Mystery</em></li>
</ol></li>
</ul>
</div>
</section>
<section id="context" class="slide level2">
<h2>Context</h2>
<div class="columns">
<div class="column" style="width:70%;">
<figure>
<center>
<img src="images/environmental-data-science-r4ds-general.png" alt="The expanded version of the classic Grolemund &amp; Wickham R4DS workflow, including environmental data &amp; sci comm bookends! Envisioned by Dr. Julia Lowndes for her useR!2019 keynote. Please cite this illustration as: Updated from Grolemund &amp; Wickham's classis R4DS schematic, envisioned by Dr. Julia Lowndes for her 2019 useR! keynote talk and illustrated by Allison Horst." style="width:85%">
<figcaption>
Artwork by Allison Horst
</figcaption>
</center>
</figure>
</div><div class="column" style="width:30%;">
<blockquote>
<p><span style="font-size:0.9em;">Data preprocessing is one of the main steps in the data science project life cycle which involves <strong>converting raw data into a refined form amenable to data analysis</strong>. <a href="https://towardsdatascience.com/three-critical-elements-of-data-preprocessing-part-2-2078110ae8e7">Source: towards data science</a></span></p>
</blockquote>
</div>
</div>
</section>
<section id="context-1" class="slide level2">
<h2>Context</h2>
<div class="columns">
<div class="column" style="width:70%;">
<figure>
<center>
<img src="images/environmental-data-science-r4ds-general.png" alt="The expanded version of the classic Grolemund &amp; Wickham R4DS workflow, including environmental data &amp; sci comm bookends! Envisioned by Dr. Julia Lowndes for her useR!2019 keynote. Please cite this illustration as: Updated from Grolemund &amp; Wickham's classis R4DS schematic, envisioned by Dr. Julia Lowndes for her 2019 useR! keynote talk and illustrated by Allison Horst." style="width:85%">
<figcaption>
Artwork by Allison Horst
</figcaption>
</center>
</figure>
</div><div class="column" style="width:30%;">
<blockquote>
<p><span style="font-size:0.9em;"><strong>It is often said that 80% of data analysis is spent on cleaning and preparing data.</strong> And it’s not just a first step, but it must be repeated many over the course of analysis as new problems come to light or new data is collected.</span></p>
</blockquote>
</div>
</div>
</section>
<section>
<section id="manipulating-data-in-r" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Manipulating data in R</h1>

</section>
<section id="data-manipulation" class="slide level2">
<h2>Data manipulation</h2>
<p>There are at least two characteristics that a good data manipulation software should have:</p>
<div class="fragment">
<ol type="1">
<li><strong>speed</strong>: results are returned in a reasonable time</li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><strong>elegance</strong>: easy to use and to understand what the code is doing</li>
</ol>
</div>
<div class="fragment">
<blockquote>
<p>The <strong>tidyverse</strong> is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.</p>
</blockquote>
</div>
</section>
<section id="the-tidyverse" class="slide level2">
<h2>The tidyverse</h2>
<p>The tidyverse is a <strong>meta package</strong> that provides a collection of tools (across different packages) that are designed for data science.</p>
<center>
<img src="https://tidyverse.tidyverse.org/logo.png" width="400">
</center>
<center>
<img src="https://dplyr.tidyverse.org/logo.png" width="200"> <img src="https://tidyr.tidyverse.org/logo.png" width="200"> <img src="https://readr.tidyverse.org/logo.png" width="200"> <img src="https://readxl.tidyverse.org/logo.png" width="200"> <img src="https://ggplot2.tidyverse.org/logo.png" width="200"><img src="https://stringr.tidyverse.org/logo.png" width="200"><img src="https://lubridate.tidyverse.org/logo.png" width="200"><img src="https://purrr.tidyverse.org/logo.png" width="200"><img src="https://forcats.tidyverse.org/logo.png" width="200">
</center>
</section>
<section id="the-tidyverse-1" class="slide level2">
<h2>The tidyverse</h2>
<p>The package is not included in the base installation of R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="co"># Install the tidyverse packages</span></span>
<span id="cb1-2"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="co"># Load all the packages included in tidyverse</span></span>
<span id="cb2-2"><a href=""></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="importing-data" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Importing data</h1>

</section>
<section id="data-frames" class="slide level2">
<h2>Data frames</h2>
<div>
<ul>
<li class="fragment"><p><strong>Data frames</strong> are important objects in R which are created when reading (most) tabular text files.</p></li>
<li class="fragment"><p>The most useful data structure for data scientists.</p></li>
<li class="fragment"><p>They allow for efficient data manipulation:</p>
<ul>
<li class="fragment">Filtering</li>
<li class="fragment">Summarizing</li>
<li class="fragment">Aggregating</li>
<li class="fragment">Joining</li>
<li class="fragment">And much more!</li>
</ul></li>
</ul>
</div>
</section>
<section id="data-frames-1" class="slide level2">
<h2>Data frames</h2>
<figure>
<center>
<img src="images/data_frame.png" alt="A data frame can be seen as an Excel tabular sheet: Lines are observations and columns are variables." style="height:600px">
</center>
</figure>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>A data frame can be seen as a matrix with the difference that <strong>columns (variables) can be of different types</strong> (numerics, dates, characters, etc.).</p>
</div>
</div>
</div>
</section>
<section id="importing-data-into-data-frames" class="slide level2">
<h2>Importing data into data frames</h2>
<ul>
<li><p>Most of the time, this is the data structure that will be created when importing data in R.</p></li>
<li><p>There are many functions to import data in R.</p></li>
</ul>
<table>
<thead>
<tr class="header">
<th><strong>File format</strong></th>
<th><strong>Function</strong></th>
<th><strong>Package</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Comma separated values (.csv)</td>
<td><code>read_csv()</code></td>
<td>readr</td>
</tr>
<tr class="even">
<td>Other text files (.txt, .dat, …)</td>
<td><code>read_delim()</code></td>
<td>readr</td>
</tr>
<tr class="odd">
<td>Excel (.xls, .xlsx)</td>
<td><code>read_excel()</code></td>
<td>readxl</td>
</tr>
<tr class="even">
<td>Stata</td>
<td><code>read_stata()</code></td>
<td>haven</td>
</tr>
<tr class="odd">
<td>SPSS</td>
<td><code>read_spss()</code></td>
<td>haven</td>
</tr>
<tr class="even">
<td>SAS</td>
<td><code>read_sas()</code></td>
<td>haven</td>
</tr>
<tr class="odd">
<td>Matlab file (.mat)</td>
<td><code>readMat()</code></td>
<td>R.matlab</td>
</tr>
</tbody>
</table>
</section>
<section id="reading-files" class="slide level2">
<h2>Reading files</h2>
<p>Functions to read files in <i class="fa-brands fa-r-project" aria-label="r-project"></i> often have the same schema:</p>
<div class="fragment">
<div class="r-fit-text">
<div class="code">
<p>read_*(<span class="fragment highlight-orange">"file"</span>, <span class="fragment highlight-pastel">&lt;options&gt;</span>)</p>
</div>
</div>
<p><br></p>
</div>
<div class="fragment">
<p>Examples of <span class="background-pastel code">&lt;options&gt;</span> can be:</p>
<ul>
<li>A single character used to separate fields within a record: Ex.: <code>","</code>, <code>";"</code>, <code>"\t"</code>.</li>
<li>The names of the columns to read.</li>
<li>The number of rows to read.</li>
</ul>
</div>
</section>
<section id="the-nycflights13-datasets" class="slide level2">
<h2>The <code>nycflights13</code> datasets</h2>
<p>Today’s data comes from the <code>nycflights13</code> R package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"nycflights13"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div>
<ul>
<li class="fragment"><p>This package contains information about all flights that departed from New York airports (i.e., <strong>EWR</strong>, <strong>JFK</strong> and <strong>LGA</strong>) in 2013.</p></li>
<li class="fragment"><p>Will use a reduced version of the data set for the purpose of this workshop.</p></li>
<li class="fragment"><p>Two data frames are available:</p>
<ul>
<li class="fragment"><code>airports</code>: Information about each airport (name, geographical coordinates)</li>
<li class="fragment"><code>flights</code>: Information about each flight (departure time, origin and destination airports)</li>
</ul></li>
</ul>
</div>
</section>
<section id="importing-data-1" class="slide level2">
<h2>Importing data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a>airports <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"http://tinyurl.com/nyc13airports"</span>)</span>
<span id="cb4-2"><a href=""></a>airports</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 4
   faa   name                                lat    lon
   &lt;chr&gt; &lt;chr&gt;                             &lt;dbl&gt;  &lt;dbl&gt;
 1 CVG   Cincinnati Northern Kentucky Intl  39.0  -84.7
 2 DFW   Dallas Fort Worth Intl             32.9  -97.0
 3 FLL   Fort Lauderdale Hollywood Intl     26.1  -80.2
 4 IAD   Washington Dulles Intl             38.9  -77.5
 5 LAX   Los Angeles Intl                   33.9 -118. 
 6 MIA   Miami Intl                         25.8  -80.3
 7 OMA   Eppley Afld                        41.3  -95.9
 8 SAN   San Diego Intl                     32.7 -117. 
 9 XNA   NW Arkansas Regional               36.3  -94.3
10 SLN   Salina Municipal Airport           38.8  -97.7
11 MCF   Macdill Afb                        27.8  -82.5
12 X59   Valkaria Municipal                 28.0  -80.6
13 HUS   Hughes Airport                     66.0 -154. 
14 MCC   Mc Clellan Afld                    38.7 -121. 
15 DVL   Devils Lake Regional Airport       48.1  -98.9</code></pre>
</div>
</div>
</section>
<section id="importing-data-2" class="slide level2">
<h2>Importing data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>flights <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"http://tinyurl.com/nyc13flights"</span>)</span>
<span id="cb6-2"><a href=""></a>flights</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 9
    year month   day  hour minute flight origin dest  distance
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;
 1  2013     8     5    14      6   3816 EWR    CVG        569
 2  2013    12    26     7      5    331 LGA    ORD        733
 3  2013    12    15    18     30    438 JFK    SAN       2446
 4  2013     1    11    14     35   3750 LGA    IAD        229
 5  2013    11    11    14     29    301 JFK    FLL       1069
 6  2013     7    23    12      0   3572 LGA    CLE        419
 7  2013     2     1    17     58   1172 EWR    ORD        719
 8  2013     7     9     7     15    399 JFK    LAX       2475
 9  2013     8    25    18     40   4131 EWR    RIC        277
10  2013    10    20    17     30   5298 LGA    OMA       1148
11  2013     9     6    21     40   3660 LGA    BNA        764
12  2013    12    20    11     40    388 LGA    MIA       1096
13  2013     4    18    14     55    759 LGA    DFW       1389
14  2013     7     1     6     30   1402 JFK    LAX       2475
15  2013     8    21     7     10   3547 LGA    XNA       1147</code></pre>
</div>
</div>
</section></section>
<section>
<section id="data-manipulation-with-dplyr-and-tidyr" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Data manipulation with {dplyr} and {tidyr}</h1>

</section>
<section id="tidyverse" class="slide level2">
<h2>Tidyverse</h2>
<p>A lot of <code>tidyverse</code> functions have the same scheme: <strong>the first argument is a data frame</strong>:</p>
<div class="r-fit-text">
<div class="code">
<p>function(<span class="fragment highlight-orange">&lt;dataframe&gt;</span>, <span class="fragment highlight-pastel">&lt;expression&gt;</span>)</p>
</div>
</div>
<div class="fragment">
<table>
<caption>Useful functions in <code>dplyr</code> / <code>tidyr</code></caption>
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Function</strong></th>
<th><strong>Definition</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>filter(df, ...)</code></td>
<td>Select a subset of the rows of a data frame.</td>
</tr>
<tr class="even">
<td><code>arrange(df, ...)</code></td>
<td>Reorder rows of a data frame.</td>
</tr>
<tr class="odd">
<td><code>select(df, ...)</code></td>
<td>Select columns of a data frame.</td>
</tr>
<tr class="even">
<td><code>mutate(df, ...)</code></td>
<td>Add or modify columns in a data frame.</td>
</tr>
<tr class="odd">
<td><code>summarise(df, ...)</code></td>
<td>Summarize a data frame into a single row. This function is very helpful in combination with the <code>group_by()</code> function.</td>
</tr>
<tr class="even">
<td><code>group_by(df, ...)</code></td>
<td>Group a data frame based on the specified columns.</td>
</tr>
<tr class="odd">
<td><code>*_join(df, ...)</code></td>
<td>Join/merge two data frames.</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="the-filter-function" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<ul>
<li><p>The <code>filter()</code> allows you to select a subset of the rows of a data frame.</p></li>
<li><p>The first argument is the name of the data frame, and the second and subsequent are filtering expressions evaluated in the context of that data frame.</p></li>
</ul>
<!-- <figure>
  <center>
  <img src="images/functions/filter.png" alt="The filter function" style="width:65%">
  </center>
</figure>  -->
<div class="fragment">
<div class="r-fit-text">
<div class="code">
<p>filter(<span class="fragment highlight-orange">&lt;dataframe&gt;</span>, <span class="fragment highlight-pastel">&lt;logical expression&gt;</span>)</p>
</div>
</div>
</div>
</section>
<section id="the-filter-function-1" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<p>Example 1: <span class="text-outline">select all flights going to the <strong>ORD</strong> airport</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="fu">filter</span>(flights, dest <span class="sc">==</span> <span class="st">"ORD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
   year month   day  hour minute flight origin dest  distance
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;
1  2013    12    26     7      5    331 LGA    ORD        733
2  2013     2     1    17     58   1172 EWR    ORD        719</code></pre>
</div>
</div>
</section>
<section id="the-filter-function-2" class="slide level2">
<h2>The <code>filter()</code> function</h2>
<p>Example 2: <span class="text-outline">select all flights that departed after 3 PM</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="fu">filter</span>(flights, hour <span class="sc">&gt;</span> <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 9
   year month   day  hour minute flight origin dest  distance
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;
1  2013    12    15    18     30    438 JFK    SAN       2446
2  2013     2     1    17     58   1172 EWR    ORD        719
3  2013     8    25    18     40   4131 EWR    RIC        277
4  2013    10    20    17     30   5298 LGA    OMA       1148
5  2013     9     6    21     40   3660 LGA    BNA        764</code></pre>
</div>
</div>
</section>
<section id="the-select-function" class="slide level2">
<h2>The <code>select()</code> function</h2>
<ul>
<li><p><code>select()</code> is used to extract column(s) from a data frame.</p></li>
<li><p>Useful when you want to perform data analysis on specific column(s) and not the complete dataset.</p></li>
</ul>
<div class="fragment">
<div class="r-fit-text">
<div class="code">
<p>select(<span class="fragment highlight-orange">&lt;dataframe&gt;</span>, <span class="fragment highlight-pastel">&lt;column(s)&gt;</span>)</p>
</div>
</div>
</div>
</section>
<section id="the-select-function-1" class="slide level2">
<h2>The <code>select()</code> function</h2>
<p>Example 1: <span class="text-outline">select “<strong>faa</strong>” and “<strong>name</strong>” columns from the <code>airports</code> data frame.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="fu">select</span>(airports, faa, name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
   faa   name                             
   &lt;chr&gt; &lt;chr&gt;                            
 1 CVG   Cincinnati Northern Kentucky Intl
 2 DFW   Dallas Fort Worth Intl           
 3 FLL   Fort Lauderdale Hollywood Intl   
 4 IAD   Washington Dulles Intl           
 5 LAX   Los Angeles Intl                 
 6 MIA   Miami Intl                       
 7 OMA   Eppley Afld                      
 8 SAN   San Diego Intl                   
 9 XNA   NW Arkansas Regional             
10 SLN   Salina Municipal Airport         
11 MCF   Macdill Afb                      
12 X59   Valkaria Municipal               
13 HUS   Hughes Airport                   
14 MCC   Mc Clellan Afld                  
15 DVL   Devils Lake Regional Airport     </code></pre>
</div>
</div>
</section>
<section id="the-select-function-2" class="slide level2">
<h2>The <code>select()</code> function</h2>
<p>You can also use <code>select()</code> to remove columns with the <code>-</code> operator.</p>
<p>Example 2: <span class="text-outline">select all columns from <code>airports</code> except “<strong>faa</strong>” and “<strong>name</strong>”.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="fu">select</span>(airports, <span class="sc">-</span>faa, <span class="sc">-</span>name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
     lat    lon
   &lt;dbl&gt;  &lt;dbl&gt;
 1  39.0  -84.7
 2  32.9  -97.0
 3  26.1  -80.2
 4  38.9  -77.5
 5  33.9 -118. 
 6  25.8  -80.3
 7  41.3  -95.9
 8  32.7 -117. 
 9  36.3  -94.3
10  38.8  -97.7
11  27.8  -82.5
12  28.0  -80.6
13  66.0 -154. 
14  38.7 -121. 
15  48.1  -98.9</code></pre>
</div>
</div>
</section>
<section id="the-select-function-3" class="slide level2">
<h2>The <code>select()</code> function</h2>
<p>It is also possible to select columns using <strong>helper functions</strong>.</p>
<p>Example 3: <span class="text-outline">select “<strong>year</strong>”, and all columns that start with “<strong>dep_</strong>” from <code>flights</code>.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="fu">select</span>(flights, year, <span class="fu">starts_with</span>(<span class="st">"m"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 3
    year month minute
   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1  2013     8      6
 2  2013    12      5
 3  2013    12     30
 4  2013     1     35
 5  2013    11     29
 6  2013     7      0
 7  2013     2     58
 8  2013     7     15
 9  2013     8     40
10  2013    10     30
11  2013     9     40
12  2013    12     40
13  2013     4     55
14  2013     7     30
15  2013     8     10</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<ul>
<li><p>The <code>mutate()</code> function is used to add or modify existing column(s) inside a data frame.</p></li>
<li><p>The function takes a data frame, and one or more expressions that add/modify columns.</p></li>
</ul>
<div class="fragment">
<div class="r-fit-text">
<div class="code">
<p>mutate(<span class="fragment highlight-orange">&lt;dataframe&gt;</span>, <span class="fragment highlight-pastel">&lt;expression&gt;</span>)</p>
</div>
</div>
</div>
</section>
<section id="the-mutate-function-1" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<p>Example 1:</p>
<p><span class="text-outline r-fit-text">add a new column named <code>distance_km</code> which converts the <code>distance</code> column, which is the flight distance in miles, into km.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" data-code-line-numbers="1-5|2|3|4|1-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a><span class="fu">mutate</span>(</span>
<span id="cb18-2"><a href=""></a>  flights,</span>
<span id="cb18-3"><a href=""></a>  <span class="at">distance_km =</span> distance <span class="sc">/</span> <span class="fl">0.62137</span></span>
<span id="cb18-4"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 10
    year month   day  hour minute flight origin dest  distance distance_km
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;
 1  2013     8     5    14      6   3816 EWR    CVG        569        916.
 2  2013    12    26     7      5    331 LGA    ORD        733       1180.
 3  2013    12    15    18     30    438 JFK    SAN       2446       3936.
 4  2013     1    11    14     35   3750 LGA    IAD        229        369.
 5  2013    11    11    14     29    301 JFK    FLL       1069       1720.
 6  2013     7    23    12      0   3572 LGA    CLE        419        674.
 7  2013     2     1    17     58   1172 EWR    ORD        719       1157.
 8  2013     7     9     7     15    399 JFK    LAX       2475       3983.
 9  2013     8    25    18     40   4131 EWR    RIC        277        446.
10  2013    10    20    17     30   5298 LGA    OMA       1148       1848.
11  2013     9     6    21     40   3660 LGA    BNA        764       1230.
12  2013    12    20    11     40    388 LGA    MIA       1096       1764.
13  2013     4    18    14     55    759 LGA    DFW       1389       2235.
14  2013     7     1     6     30   1402 JFK    LAX       2475       3983.
15  2013     8    21     7     10   3547 LGA    XNA       1147       1846.</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function-2" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<p>It is also possible to add many new variables in a single operation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="3-4|1-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="fu">mutate</span>(</span>
<span id="cb20-2"><a href=""></a>  flights,</span>
<span id="cb20-3"><a href=""></a>  <span class="at">distance_km =</span> distance <span class="sc">/</span> <span class="fl">0.62137</span>,</span>
<span id="cb20-4"><a href=""></a>  <span class="at">distance_knot =</span> distance <span class="sc">/</span> <span class="fl">1.15078</span></span>
<span id="cb20-5"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 11
    year month   day  hour minute flight origin dest  distance distance_km
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;
 1  2013     8     5    14      6   3816 EWR    CVG        569        916.
 2  2013    12    26     7      5    331 LGA    ORD        733       1180.
 3  2013    12    15    18     30    438 JFK    SAN       2446       3936.
 4  2013     1    11    14     35   3750 LGA    IAD        229        369.
 5  2013    11    11    14     29    301 JFK    FLL       1069       1720.
 6  2013     7    23    12      0   3572 LGA    CLE        419        674.
 7  2013     2     1    17     58   1172 EWR    ORD        719       1157.
 8  2013     7     9     7     15    399 JFK    LAX       2475       3983.
 9  2013     8    25    18     40   4131 EWR    RIC        277        446.
10  2013    10    20    17     30   5298 LGA    OMA       1148       1848.
11  2013     9     6    21     40   3660 LGA    BNA        764       1230.
12  2013    12    20    11     40    388 LGA    MIA       1096       1764.
13  2013     4    18    14     55    759 LGA    DFW       1389       2235.
14  2013     7     1     6     30   1402 JFK    LAX       2475       3983.
15  2013     8    21     7     10   3547 LGA    XNA       1147       1846.
# ℹ 1 more variable: distance_knot &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="the-mutate-function-3" class="slide level2">
<h2>The <code>mutate()</code> function</h2>
<p>Let’s create a departure time column based on the <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code> and <code>minute</code> columns, using the <code>make_datetime()</code> function from the <code>lubridate</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="fu">mutate</span>(flights, <span class="at">departure_time =</span> <span class="fu">make_datetime</span>(year, month, day, hour, minute))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 10
    year month   day  hour minute flight origin dest  distance departure_time     
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;dttm&gt;             
 1  2013     8     5    14      6   3816 EWR    CVG        569 2013-08-05 14:06:00
 2  2013    12    26     7      5    331 LGA    ORD        733 2013-12-26 07:05:00
 3  2013    12    15    18     30    438 JFK    SAN       2446 2013-12-15 18:30:00
 4  2013     1    11    14     35   3750 LGA    IAD        229 2013-01-11 14:35:00
 5  2013    11    11    14     29    301 JFK    FLL       1069 2013-11-11 14:29:00
 6  2013     7    23    12      0   3572 LGA    CLE        419 2013-07-23 12:00:00
 7  2013     2     1    17     58   1172 EWR    ORD        719 2013-02-01 17:58:00
 8  2013     7     9     7     15    399 JFK    LAX       2475 2013-07-09 07:15:00
 9  2013     8    25    18     40   4131 EWR    RIC        277 2013-08-25 18:40:00
10  2013    10    20    17     30   5298 LGA    OMA       1148 2013-10-20 17:30:00
11  2013     9     6    21     40   3660 LGA    BNA        764 2013-09-06 21:40:00
12  2013    12    20    11     40    388 LGA    MIA       1096 2013-12-20 11:40:00
13  2013     4    18    14     55    759 LGA    DFW       1389 2013-04-18 14:55:00
14  2013     7     1     6     30   1402 JFK    LAX       2475 2013-07-01 06:30:00
15  2013     8    21     7     10   3547 LGA    XNA       1147 2013-08-21 07:10:00</code></pre>
</div>
</div>
</section>
<section id="the-summarise-function" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<ul>
<li><p>The <code>summarise()</code> function allows summarising columns from a data frame.</p></li>
<li><p>Compress a data frame into single values (i.e.&nbsp;one row).</p>
<ul>
<li>Hence, you have to provide a function that will be used to calculate a certain value.</li>
</ul></li>
</ul>
<div class="fragment">
<div class="r-fit-text">
<div class="code">
<p>summarise(<span class="fragment highlight-orange">&lt;dataframe&gt;</span>, <span class="fragment highlight-pastel">&lt;expression&gt;</span>)</p>
</div>
</div>
</div>
</section>
<section id="the-summarise-function-1" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<p>Example 1: <span class="text-outline">Calculate the average <code>distance</code> column</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" data-code-line-numbers="1-4|3|1-4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">summarise</span>(</span>
<span id="cb24-2"><a href=""></a>  flights,</span>
<span id="cb24-3"><a href=""></a>  <span class="at">average_distance =</span> <span class="fu">mean</span>(distance)</span>
<span id="cb24-4"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  average_distance
             &lt;dbl&gt;
1            1130.</code></pre>
</div>
</div>
</section>
<section id="the-summarise-function-2" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<p>It can be useful to know how many observations (rows) were used. This can be calculated using the <code>n()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="fu">summarise</span>(</span>
<span id="cb26-2"><a href=""></a>  flights,</span>
<span id="cb26-3"><a href=""></a>  <span class="at">average_distance =</span> <span class="fu">mean</span>(distance),</span>
<span id="cb26-4"><a href=""></a>  <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb26-5"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  average_distance     n
             &lt;dbl&gt; &lt;int&gt;
1            1130.    15</code></pre>
</div>
</div>
</section>
<section id="the-summarise-function-3" class="slide level2">
<h2>The <code>summarise()</code> function</h2>
<p>It is also possible to use a summarising function <strong>by group</strong> using the <code>by</code> argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a><span class="fu">summarise</span>(</span>
<span id="cb28-2"><a href=""></a>  flights,</span>
<span id="cb28-3"><a href=""></a>  <span class="at">average_distance =</span> <span class="fu">mean</span>(distance),</span>
<span id="cb28-4"><a href=""></a>  <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb28-5"><a href=""></a>  <span class="at">.by =</span> origin</span>
<span id="cb28-6"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  origin average_distance     n
  &lt;chr&gt;             &lt;dbl&gt; &lt;int&gt;
1 EWR                522.     3
2 LGA                866.     8
3 JFK               2116.     4</code></pre>
</div>
</div>
</section></section>
<section>
<section id="joining-tables" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Joining tables</h1>

</section>
<section id="joining-tables-1" class="slide level2">
<h2>Joining tables</h2>
<ul>
<li><p>Data are rarely stored in a single data frame or a single file.</p></li>
<li><p>Good database practices recommend having similar data in separate tables.</p></li>
<li><p>Joins are used to <strong>merge data frame</strong> together.</p></li>
</ul>
<div class="fragment">
<div class="r-fit-text">
<div class="code">
<p>*_join(<span class="fragment highlight-orange">&lt;dataframe&gt;</span>, <span class="fragment highlight-pastel">&lt;dataframe&gt;</span>)</p>
</div>
</div>
</div>
</section>
<section id="understanding-joins" class="slide level2">
<h2>Understanding joins</h2>
<figure>
<center>
<img src="images/join_types.svg" alt="Ven diagrams showing the main type of SQL joins" style="width:65%">
<figcaption>
Types of equality and filtering joins
</figcaption>
</center>
</figure>
</section>
<section id="joining-airports-and-flights" class="slide level2">
<h2>Joining airports and flights</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a><span class="fu">head</span>(flights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 9
   year month   day  hour minute flight origin dest  distance
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;
1  2013     8     5    14      6   3816 EWR    CVG        569
2  2013    12    26     7      5    331 LGA    ORD        733
3  2013    12    15    18     30    438 JFK    SAN       2446
4  2013     1    11    14     35   3750 LGA    IAD        229
5  2013    11    11    14     29    301 JFK    FLL       1069
6  2013     7    23    12      0   3572 LGA    CLE        419</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a><span class="fu">head</span>(airports)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  faa   name                                lat    lon
  &lt;chr&gt; &lt;chr&gt;                             &lt;dbl&gt;  &lt;dbl&gt;
1 CVG   Cincinnati Northern Kentucky Intl  39.0  -84.7
2 DFW   Dallas Fort Worth Intl             32.9  -97.0
3 FLL   Fort Lauderdale Hollywood Intl     26.1  -80.2
4 IAD   Washington Dulles Intl             38.9  -77.5
5 LAX   Los Angeles Intl                   33.9 -118. 
6 MIA   Miami Intl                         25.8  -80.3</code></pre>
</div>
</div>
</section>
<section id="joining-airports-and-flights-1" class="slide level2">
<h2>Joining airports and flights</h2>
<p>If we try to left join the <code>flights</code> and <code>airports</code> data frames, we get an error because there is no common column between the two data frames.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a><span class="fu">left_join</span>(flights, airports)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `left_join()`:
! `by` must be supplied when `x` and `y` have no common variables.
ℹ Use `cross_join()` to perform a cross-join.</code></pre>
</div>
</div>
</section>
<section id="joining-airports-and-flights-2" class="slide level2">
<h2>Joining airports and flights</h2>
<p>We can use the <code>dest</code> column from the <code>flights</code> data frame and the <code>faa</code> column from the <code>airports</code> data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href=""></a><span class="fu">left_join</span>(flights, airports, <span class="at">by =</span> <span class="fu">join_by</span>(dest <span class="sc">==</span> faa))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 12
    year month   day  hour minute flight origin dest  distance name          lat
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;
 1  2013     8     5    14      6   3816 EWR    CVG        569 Cincinnati…  39.0
 2  2013    12    26     7      5    331 LGA    ORD        733 &lt;NA&gt;         NA  
 3  2013    12    15    18     30    438 JFK    SAN       2446 San Diego …  32.7
 4  2013     1    11    14     35   3750 LGA    IAD        229 Washington…  38.9
 5  2013    11    11    14     29    301 JFK    FLL       1069 Fort Laude…  26.1
 6  2013     7    23    12      0   3572 LGA    CLE        419 &lt;NA&gt;         NA  
 7  2013     2     1    17     58   1172 EWR    ORD        719 &lt;NA&gt;         NA  
 8  2013     7     9     7     15    399 JFK    LAX       2475 Los Angele…  33.9
 9  2013     8    25    18     40   4131 EWR    RIC        277 &lt;NA&gt;         NA  
10  2013    10    20    17     30   5298 LGA    OMA       1148 Eppley Afld  41.3
11  2013     9     6    21     40   3660 LGA    BNA        764 &lt;NA&gt;         NA  
12  2013    12    20    11     40    388 LGA    MIA       1096 Miami Intl   25.8
13  2013     4    18    14     55    759 LGA    DFW       1389 Dallas For…  32.9
14  2013     7     1     6     30   1402 JFK    LAX       2475 Los Angele…  33.9
15  2013     8    21     7     10   3547 LGA    XNA       1147 NW Arkansa…  36.3
# ℹ 1 more variable: lon &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="joining-airports-and-flights-3" class="slide level2">
<h2>Joining airports and flights</h2>
<p>We can see that some of the <code>dest</code> codes are not present in the <code>airports</code> data frame. Anti-joins can be used to keep only the rows that do not match between the two data frames.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a><span class="fu">anti_join</span>(flights, airports, <span class="at">by =</span> <span class="fu">join_by</span>(dest <span class="sc">==</span> faa))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 9
   year month   day  hour minute flight origin dest  distance
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;
1  2013    12    26     7      5    331 LGA    ORD        733
2  2013     7    23    12      0   3572 LGA    CLE        419
3  2013     2     1    17     58   1172 EWR    ORD        719
4  2013     8    25    18     40   4131 EWR    RIC        277
5  2013     9     6    21     40   3660 LGA    BNA        764</code></pre>
</div>
</div>
</section>
<section id="joining-airports-and-flights-4" class="slide level2">
<h2>Joining airports and flights</h2>
<p>Filtering joins can be used to keep only the rows that match between the two data frames.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a><span class="fu">semi_join</span>(flights, airports, <span class="at">by =</span> <span class="fu">join_by</span>(dest <span class="sc">==</span> faa))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 9
    year month   day  hour minute flight origin dest  distance
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;
 1  2013     8     5    14      6   3816 EWR    CVG        569
 2  2013    12    15    18     30    438 JFK    SAN       2446
 3  2013     1    11    14     35   3750 LGA    IAD        229
 4  2013    11    11    14     29    301 JFK    FLL       1069
 5  2013     7     9     7     15    399 JFK    LAX       2475
 6  2013    10    20    17     30   5298 LGA    OMA       1148
 7  2013    12    20    11     40    388 LGA    MIA       1096
 8  2013     4    18    14     55    759 LGA    DFW       1389
 9  2013     7     1     6     30   1402 JFK    LAX       2475
10  2013     8    21     7     10   3547 LGA    XNA       1147</code></pre>
</div>
</div>
</section>
<section id="joining-airports-and-flights-5" class="slide level2">
<h2>Joining airports and flights</h2>
<p>Full joins can be used to keep all rows from both data frames.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href=""></a><span class="fu">full_join</span>(flights, airports, <span class="at">by =</span> <span class="fu">join_by</span>(dest <span class="sc">==</span> faa))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 × 12
    year month   day  hour minute flight origin dest  distance name          lat
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;
 1  2013     8     5    14      6   3816 EWR    CVG        569 Cincinnati…  39.0
 2  2013    12    26     7      5    331 LGA    ORD        733 &lt;NA&gt;         NA  
 3  2013    12    15    18     30    438 JFK    SAN       2446 San Diego …  32.7
 4  2013     1    11    14     35   3750 LGA    IAD        229 Washington…  38.9
 5  2013    11    11    14     29    301 JFK    FLL       1069 Fort Laude…  26.1
 6  2013     7    23    12      0   3572 LGA    CLE        419 &lt;NA&gt;         NA  
 7  2013     2     1    17     58   1172 EWR    ORD        719 &lt;NA&gt;         NA  
 8  2013     7     9     7     15    399 JFK    LAX       2475 Los Angele…  33.9
 9  2013     8    25    18     40   4131 EWR    RIC        277 &lt;NA&gt;         NA  
10  2013    10    20    17     30   5298 LGA    OMA       1148 Eppley Afld  41.3
# ℹ 11 more rows
# ℹ 1 more variable: lon &lt;dbl&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section id="tidy-data" class="title-slide slide level1 center" data-background-color="#2C404A">
<h1>Tidy data</h1>

</section>
<section id="tidy-data-1" class="slide level2">
<h2>Tidy data</h2>
<p>In a tidy data set, each row correspond to an <strong>observation</strong> whereas each column is a <strong>variable</strong>.</p>
<p>Tidying a dataset consists in cleaning and structuring datasets to facilitate analysis.</p>
</section>
<section id="what-is-a-messy-dataset" class="slide level2">
<h2>What is a messy dataset?</h2>
<p><small> https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html </small></p>
<p>There are five main common problems that define a messy dataset:</p>
<ol type="1">
<li>Column headers are values, not variable names.</li>
<li>Multiple variables are stored in one column.</li>
<li>Variables are stored in both rows and columns.</li>
<li>Multiple types of observational units are stored in the same table.</li>
<li>A single observational unit is stored in multiple tables.</li>
</ol>
</section>
<section id="column-headers-are-values" class="slide level2">
<h2>Column headers are values</h2>
<p>The religion income dataset is an example of a dataset where the column headers are values, not variable names. The table below shows the first 6 rows of the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href=""></a>relig_income <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"http://tinyurl.com/religionincome"</span>)</span>
<span id="cb44-2"><a href=""></a><span class="fu">head</span>(relig_income)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 11
  religion  `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
1 Agnostic       27        34        60        81        76       137        122
2 Atheist        12        27        37        52        35        70         73
3 Buddhist       27        21        30        34        33        58         62
4 Catholic      418       617       732       670       638      1116        949
5 Don’t kn…      15        14        15        11        10        35         21
6 Evangeli…     575       869      1064       982       881      1486        949
# ℹ 3 more variables: `$100-150k` &lt;dbl&gt;, `&gt;150k` &lt;dbl&gt;,
#   `Don't know/refused` &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="column-headers-are-values-1" class="slide level2">
<h2>Column headers are values</h2>
<p>To fix this, we have to pivot the data frame using the <code>pivot_longer()</code> function. We have to specify the column(s) that will be used as <strong>identifier variables</strong> (i.e.&nbsp;the columns that will not be modified) and the column(s) that will be used as <strong>measured variables</strong> (i.e.&nbsp;the columns that will be modified).</p>
<div class="fragment">
<div class="r-fit-text">
<div class="code">
<p>pivot_longer(<span class="fragment highlight-orange">&lt;dataframe&gt;</span>, <span class="fragment highlight-pastel">&lt;columns to pivot&gt;</span>)</p>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href=""></a><span class="fu">head</span>(relig_income)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 11
  religion  `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
1 Agnostic       27        34        60        81        76       137        122
2 Atheist        12        27        37        52        35        70         73
3 Buddhist       27        21        30        34        33        58         62
4 Catholic      418       617       732       670       638      1116        949
5 Don’t kn…      15        14        15        11        10        35         21
6 Evangeli…     575       869      1064       982       881      1486        949
# ℹ 3 more variables: `$100-150k` &lt;dbl&gt;, `&gt;150k` &lt;dbl&gt;,
#   `Don't know/refused` &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="column-headers-are-values-2" class="slide level2">
<h2>Column headers are values</h2>
<p>We can see that the <code>pivot_longer()</code> function has created two new columns: <code>income</code> and <code>count</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href=""></a><span class="fu">pivot_longer</span>(relig_income, <span class="sc">-</span>religion, <span class="at">names_to =</span> <span class="st">"income"</span>, <span class="at">values_to =</span> <span class="st">"count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 3
   religion income             count
   &lt;chr&gt;    &lt;chr&gt;              &lt;dbl&gt;
 1 Agnostic &lt;$10k                 27
 2 Agnostic $10-20k               34
 3 Agnostic $20-30k               60
 4 Agnostic $30-40k               81
 5 Agnostic $40-50k               76
 6 Agnostic $50-75k              137
 7 Agnostic $75-100k             122
 8 Agnostic $100-150k            109
 9 Agnostic &gt;150k                 84
10 Agnostic Don't know/refused    96
# ℹ 170 more rows</code></pre>
</div>
</div>
</section>
<section id="multiple-variables-are-stored-in-one-column" class="slide level2">
<h2>Multiple variables are stored in one column</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a>tb <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"http://tinyurl.com/whotuber"</span>)</span>
<span id="cb50-2"><a href=""></a><span class="fu">head</span>(tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 58
  country      year sp_m_014 sp_m_1524 sp_m_2534 sp_m_3544 sp_m_4554 sp_m_5564
  &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 Afghanistan  1980       NA        NA        NA        NA        NA        NA
2 Afghanistan  1981       NA        NA        NA        NA        NA        NA
3 Afghanistan  1982       NA        NA        NA        NA        NA        NA
4 Afghanistan  1983       NA        NA        NA        NA        NA        NA
5 Afghanistan  1984       NA        NA        NA        NA        NA        NA
6 Afghanistan  1985       NA        NA        NA        NA        NA        NA
# ℹ 50 more variables: sp_m_65 &lt;dbl&gt;, sp_f_014 &lt;dbl&gt;, sp_f_1524 &lt;dbl&gt;,
#   sp_f_2534 &lt;dbl&gt;, sp_f_3544 &lt;dbl&gt;, sp_f_4554 &lt;dbl&gt;, sp_f_5564 &lt;dbl&gt;,
#   sp_f_65 &lt;dbl&gt;, sn_m_014 &lt;dbl&gt;, sn_m_1524 &lt;dbl&gt;, sn_m_2534 &lt;dbl&gt;,
#   sn_m_3544 &lt;dbl&gt;, sn_m_4554 &lt;dbl&gt;, sn_m_5564 &lt;dbl&gt;, sn_m_65 &lt;dbl&gt;,
#   sn_f_014 &lt;dbl&gt;, sn_f_1524 &lt;dbl&gt;, sn_f_2534 &lt;dbl&gt;, sn_f_3544 &lt;dbl&gt;,
#   sn_f_4554 &lt;dbl&gt;, sn_f_5564 &lt;dbl&gt;, sn_f_65 &lt;dbl&gt;, ep_m_014 &lt;dbl&gt;,
#   ep_m_1524 &lt;dbl&gt;, ep_m_2534 &lt;dbl&gt;, ep_m_3544 &lt;dbl&gt;, ep_m_4554 &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="multiple-variables-are-stored-in-one-column-1" class="slide level2">
<h2>Multiple variables are stored in one column</h2>
<p>First, we have to pivot the data frame using the <code>pivot_longer()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href=""></a>tb_pivot <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(tb, <span class="sc">!</span><span class="fu">c</span>(country, year), <span class="at">values_to =</span> <span class="st">"count"</span>, <span class="at">names_to =</span> <span class="st">"demo"</span>)</span>
<span id="cb52-2"><a href=""></a>tb_pivot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 405,440 × 4
   country      year demo      count
   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;
 1 Afghanistan  1980 sp_m_014     NA
 2 Afghanistan  1980 sp_m_1524    NA
 3 Afghanistan  1980 sp_m_2534    NA
 4 Afghanistan  1980 sp_m_3544    NA
 5 Afghanistan  1980 sp_m_4554    NA
 6 Afghanistan  1980 sp_m_5564    NA
 7 Afghanistan  1980 sp_m_65      NA
 8 Afghanistan  1980 sp_f_014     NA
 9 Afghanistan  1980 sp_f_1524    NA
10 Afghanistan  1980 sp_f_2534    NA
# ℹ 405,430 more rows</code></pre>
</div>
</div>
</section>
<section id="multiple-variables-are-stored-in-one-column-2" class="slide level2">
<h2>Multiple variables are stored in one column</h2>
<p>Then, we have to separate the <code>demo</code> column into three columns using the <code>separate()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href=""></a>tb_tidy <span class="ot">&lt;-</span> <span class="fu">separate_wider_delim</span>(</span>
<span id="cb54-2"><a href=""></a>  tb_pivot,</span>
<span id="cb54-3"><a href=""></a>  demo,</span>
<span id="cb54-4"><a href=""></a>  <span class="at">delim =</span> <span class="st">"_"</span>,</span>
<span id="cb54-5"><a href=""></a>  <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"case"</span>, <span class="st">"sex"</span>, <span class="st">"age_group"</span>)</span>
<span id="cb54-6"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="multiple" class="slide level2">
<h2>Multiple</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href=""></a>tb_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 405,440 × 6
   country      year case  sex   age_group count
   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;
 1 Afghanistan  1980 sp    m     014          NA
 2 Afghanistan  1980 sp    m     1524         NA
 3 Afghanistan  1980 sp    m     2534         NA
 4 Afghanistan  1980 sp    m     3544         NA
 5 Afghanistan  1980 sp    m     4554         NA
 6 Afghanistan  1980 sp    m     5564         NA
 7 Afghanistan  1980 sp    m     65           NA
 8 Afghanistan  1980 sp    f     014          NA
 9 Afghanistan  1980 sp    f     1524         NA
10 Afghanistan  1980 sp    f     2534         NA
# ℹ 405,430 more rows</code></pre>
</div>
</div>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1920,

        height: 1080,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>